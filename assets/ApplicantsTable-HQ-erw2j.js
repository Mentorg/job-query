import{r as v,f as A,j as e,N as L,B as u,c as V,b as _}from"./index-gK5jVzhw.js";import{P as N}from"./index-GsJ-QSZe.js";import{M as g,a as j,L as k,b as M}from"./Modal-CoWiFoLe.js";import{k as B}from"./index-Jk20eeFW.js";import{G as H}from"./iconBase-2lTqbh99.js";import{b as R}from"./index-ef23x1ao.js";import{T as y,u as Z}from"./useSortableData-3u81p8pr.js";import{S}from"./StatusChip-L4my39EZ.js";import{F}from"./index-xB3iB-V5.js";import{C as P}from"./Chip-RxkCiOL4.js";import{ApplicantContext as b}from"./ApplicantContext-JCUfY4jp.js";import{e as T,a as O}from"./experience-sy-kMHdE.js";import{T as $}from"./TextArea--gC4PYop.js";import{j as E}from"./job-YlKGiUrw.js";function U(n){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM5.76282 17H20V5H4V18.3851L5.76282 17ZM11 10H13V12H11V10ZM7 10H9V12H7V10ZM15 10H17V12H15V10Z"},child:[]}]})(n)}function G(n){return H({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM1.6 11.85H0v3.999h.791v-1.342h.803c.287 0 .531-.057.732-.173.203-.117.358-.275.463-.474a1.42 1.42 0 0 0 .161-.677c0-.25-.053-.476-.158-.677a1.176 1.176 0 0 0-.46-.477c-.2-.12-.443-.179-.732-.179Zm.545 1.333a.795.795 0 0 1-.085.38.574.574 0 0 1-.238.241.794.794 0 0 1-.375.082H.788V12.48h.66c.218 0 .389.06.512.181.123.122.185.296.185.522Zm1.217-1.333v3.999h1.46c.401 0 .734-.08.998-.237a1.45 1.45 0 0 0 .595-.689c.13-.3.196-.662.196-1.084 0-.42-.065-.778-.196-1.075a1.426 1.426 0 0 0-.589-.68c-.264-.156-.599-.234-1.005-.234H3.362Zm.791.645h.563c.248 0 .45.05.609.152a.89.89 0 0 1 .354.454c.079.201.118.452.118.753a2.3 2.3 0 0 1-.068.592 1.14 1.14 0 0 1-.196.422.8.8 0 0 1-.334.252 1.298 1.298 0 0 1-.483.082h-.563v-2.707Zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638H7.896Z"},child:[]}]})(n)}function W(n){const o=v.useContext(b);if(!o)throw new Error("ApplicantContext is not provided");const{applicantList:l,applicationList:r,filteredAdvertisements:c,updateStatus:s,options:t}=o,h=r.find(m=>m.id===n.id),x=c.find(m=>m.id===(h==null?void 0:h.advertisement_id)),i=l.find(m=>m.id===n.id),d=T.find(m=>m.id===(i==null?void 0:i.id)),f=O.filter(m=>m.applicant_id===(i==null?void 0:i.id)),a=i==null?void 0:i.skills.split("; "),p=i==null?void 0:i.languages.split("; "),w=A.find(m=>m.id===(i==null?void 0:i.user_id));function C(){console.log("Success")}return{applicantJob:x,updateStatus:s,options:t,currentApplicant:h,applicantInfo:i,applicantEducation:d,applicantExperience:f,skills:a,languages:p,userData:w,handleDownloadResume:C}}function q({applicant:n}){const{applicantJob:o,updateStatus:l,options:r,currentApplicant:c,applicantInfo:s,applicantEducation:t,applicantExperience:h,skills:x,languages:i,userData:d,handleDownloadResume:f}=W(n);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center justify-between gap-x-10 lg:flex-row",children:[e.jsxs("div",{className:"flex w-full flex-row gap-4",children:[e.jsx("img",{src:d==null?void 0:d.avatar,alt:"Applicant's avatar",className:"h-fit w-fit"}),e.jsx("div",{className:"flex flex-col gap-y-2 xs:flex-row md:mx-4",children:e.jsxs("div",{className:"flex w-max flex-col",children:[e.jsxs("div",{className:"items-center0 flex",children:[e.jsx("h1",{className:"text-xl font-semibold",children:d==null?void 0:d.name}),e.jsx("div",{className:"xs:ml-4",children:e.jsx(S,{children:c==null?void 0:c.status})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"w-min whitespace-nowrap text-sm text-slate-500",children:["Applied for"," "]}),e.jsx("span",{className:"font-medium text-primary",children:o==null?void 0:o.position_title})]})]})})]}),e.jsxs("div",{className:"my-4 flex h-fit w-full items-end gap-4 lg:justify-end",children:[e.jsxs("div",{className:"flex flex-col gap-x-4 md:flex-row md:items-center",children:[e.jsx("label",{htmlFor:"Mark as"}),e.jsx("select",{value:c==null?void 0:c.status,onChange:a=>l(n.id,a.target.value),className:"rounded-md border-2 px-5 py-2",children:r.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsx(L,{to:"/dashboard/messages/newMessage",className:"h-fit rounded-md border-2 border-blue-500 bg-blue-500 px-6 py-2 text-sm font-medium text-white",children:"Contact"})]})]}),e.jsxs("div",{className:"py-5",children:[e.jsx("h2",{className:"text-xl font-medium",children:"All Personal Information"}),e.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-8 py-8 sm:grid sm:grid-cols-2 sm:grid-rows-2 lg:grid-cols-4 lg:grid-rows-1",children:[e.jsxs("div",{className:"flex w-max flex-col",children:[e.jsx("h3",{className:"whitespace-nowrap font-medium",children:"Application Date"}),e.jsx("p",{className:"mt-2 text-sm",children:n.created_at})]}),e.jsxs("div",{className:"flex w-max flex-col",children:[e.jsx("h3",{className:"whitespace-nowrap font-medium",children:"Email Address"}),e.jsx("p",{className:"mt-2 text-sm",children:d==null?void 0:d.email})]}),e.jsxs("div",{className:"flex w-max flex-col",children:[e.jsx("h3",{className:"whitespace-nowrap font-medium",children:"Phone Number"}),e.jsx("p",{className:"mt-2 text-sm",children:d==null?void 0:d.phone})]}),e.jsxs("div",{className:"flex w-max flex-col",children:[e.jsx("h3",{className:"whitespace-nowrap font-medium",children:"Location"}),e.jsxs("p",{className:"mt-2 text-sm",children:[d==null?void 0:d.city,", ",d==null?void 0:d.country]})]})]})]}),e.jsxs("div",{className:"py-5",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Resume"}),e.jsxs("div",{className:"flex w-full flex-col justify-between gap-y-4 py-8 sm:flex-row sm:items-center sm:gap-y-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"h-[1.5rem] w-[1.5rem] text-blue-500"}),e.jsx("h3",{className:"ml-2 font-medium text-blue-500",children:s==null?void 0:s.resume})]}),e.jsx("div",{className:"flex flex-col",children:e.jsx(u,{onClick:f,className:"rounded-md bg-primary px-6 py-2 text-white",children:"Download"})})]})]}),e.jsxs("div",{className:"py-5",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Experience"}),e.jsx("div",{className:"flex w-full flex-col gap-5 py-8",children:h.map(a=>e.jsxs("div",{className:"grid grid-cols-1 grid-rows-3 items-center bg-slate-100 px-4 py-2 sm:grid-cols-3 sm:grid-rows-1 md:px-6 md:py-4",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start",children:[e.jsx("h3",{className:"text-lg font-medium md:text-xl",children:a.title}),e.jsx("p",{className:"mt-2 text-xs font-semibold text-slate-600",children:a.company})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("h3",{className:"text-sm font-medium md:text-base",children:[a.date_start," - ",a.date_end]})}),e.jsx("div",{className:"flex justify-center sm:justify-end",children:e.jsx(P,{icon:e.jsx(F,{className:"text-white"}),className:"flex w-fit items-center rounded-3xl bg-blue-500 px-3 py-1",children:a.location})})]},a.id))})]}),e.jsxs("div",{className:"py-5",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Education"}),e.jsx("div",{className:"flex w-full flex-col gap-5 py-8",children:e.jsxs("div",{className:"grid grid-cols-2 grid-rows-3 items-center bg-slate-100 p-4 xs:gap-y-4 sm:px-8 sm:py-6 md:grid-cols-8 md:grid-rows-2 xl:grid-cols-10 xl:grid-rows-1 2xl:gap-x-2",children:[e.jsxs("div",{className:"col-start-1 col-end-3 flex flex-col md:col-start-1 md:col-end-9 md:row-start-1 md:row-end-1 xl:col-start-1 xl:col-end-6",children:[e.jsx("h3",{className:"text-xl font-medium",children:t==null?void 0:t.degree}),e.jsxs("p",{className:"mt-2 text-xs font-semibold text-slate-400",children:[t==null?void 0:t.department," -"," ",t==null?void 0:t.university]})]}),e.jsxs("div",{className:"flex flex-col justify-center md:col-start-1 md:col-end-3 md:row-start-2 md:row-end-2 xl:col-start-6 xl:col-end-7 xl:row-start-1 xl:items-center",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"Date"}),e.jsxs("h3",{className:"mt-2 font-medium",children:[t==null?void 0:t.date_start," -"," ",t==null?void 0:t.date_end]})]}),e.jsxs("div",{className:"flex flex-col justify-center md:col-start-3 md:col-end-3 md:row-start-2 md:row-end-2 xl:col-start-7 xl:col-end-8 xl:row-start-1 xl:items-center",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"GPA"}),e.jsx("h3",{className:"mt-2 font-medium",children:t==null?void 0:t.gpa})]}),e.jsxs("div",{className:"col-start-1 col-end-3 flex flex-col justify-center md:col-start-4 md:col-end-9 md:row-start-2 md:row-end-2 xl:col-start-8 xl:col-end-11 xl:row-start-1 xl:items-center",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"Honors"}),e.jsx("h3",{className:"mt-2 font-medium",children:t==null?void 0:t.honors})]})]})})]}),e.jsxs("div",{className:"flex flex-col justify-around gap-4 py-5 md:flex-row",children:[e.jsxs("div",{className:"flex w-full flex-col gap-5 py-8",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x==null?void 0:x.map((a,p)=>e.jsx("p",{className:"h-fit w-max rounded-md bg-primary px-6 py-2 text-xs text-white",children:a},`${s==null?void 0:s.id}-${p}`))})]}),e.jsxs("div",{className:"flex w-full flex-col gap-5 py-8",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i==null?void 0:i.map((a,p)=>e.jsx("p",{className:"h-fit w-max rounded-md bg-primary px-6 py-2 text-xs text-white",children:a},`${s==null?void 0:s.id}-${p}`))})]})]}),e.jsxs("div",{className:"py-5",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Note"}),e.jsx("div",{className:"flex w-full flex-col gap-5 py-8",children:s!=null&&s.note?e.jsx("p",{children:s==null?void 0:s.note}):e.jsx("p",{children:"No notes about the applicant"})})]})]})}function z({applicant:n,onCloseModal:o}){const l=v.useContext(b);if(!l)throw new Error("ApplicantContext is not provided");const{handleUpdateNote:r,applicantList:c}=l,s=c.find(a=>a.id===n.id),[t,h]=v.useState(()=>({id:(s==null?void 0:s.id)??0,note:(s==null?void 0:s.note)??""})),[x,i]=v.useState({note:""});function d(a){const{name:p,value:w}=a.target,C=!/^[a-zA-Z\s]{4,}$/.test(w)&&"Please provide a description with a minimum of 4 characters";i({...x,[p]:C}),h(m=>({...m,[p]:w}))}function f(a){a.preventDefault(),!(Object.keys(x).filter(w=>x[w]).length>0)&&(console.log("Success"),r(t.id,t.note),o())}return e.jsxs("form",{onSubmit:f,className:"sm:w-[10 0dvw] w-full md:w-full sm:landscape:w-full",children:[e.jsxs("div",{className:"my-8 flex flex-col",children:[e.jsx(V,{htmlFor:"note",children:"Update note"}),e.jsx($,{name:"note",value:t.note,onChange:d,errors:x,hasError:!!x.note})]}),e.jsx("div",{children:e.jsx(u,{className:"mt-4 rounded-md bg-primary px-6 py-2 text-sm text-white",children:"Add Note"})})]})}function J(n){const o=v.useContext(b);if(!o)throw new Error("ApplicantContext is not provided");const{applicationList:l}=o,{updateStatus:r}=o,c=A.find(f=>f.id===n.applicant_id),s=l.find(f=>f.id===n.id),t=E.find(f=>f.id===n.advertisement_id);function h(){s&&r(s.id,"interview")}function x(){s&&r(s.id,"on-hold")}function i(){s&&r(s.id,"shortlisted")}function d(){s&&r(s.id,"rejected")}return{updateStatus:r,currentApplicant:s,users:c,userApplication:t,handleMarkInterview:h,handleMarkOnhold:x,handleMarkShortlisted:i,handleMarkRejected:d}}function X({applicant:n}){var i;const{currentApplicant:o,users:l,userApplication:r,handleMarkInterview:c,handleMarkOnhold:s,handleMarkShortlisted:t,handleMarkRejected:h}=J(n),x=_();return e.jsxs(y.Row,{children:[e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:l==null?void 0:l.id})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:l==null?void 0:l.name})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:l==null?void 0:l.email})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:r==null?void 0:r.position_title})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:l==null?void 0:l.created_at})}),e.jsx("div",{children:e.jsx(S,{children:o==null?void 0:o.status})}),(l==null?void 0:l.id)&&e.jsx(g,{children:e.jsxs(j.Menu,{children:[e.jsx(j.Toggle,{id:((i=l.id)==null?void 0:i.toString())||""}),e.jsxs(j.List,{id:l.id.toString(),children:[e.jsx(g.Open,{opens:"read",children:e.jsxs(j.Button,{type:"option",children:[e.jsx(B,{}),e.jsx("span",{children:"See Details"})]})}),e.jsxs(j.Button,{type:"option",onClick:()=>x("/dashboard/messages/newMessage"),children:[e.jsx(U,{}),e.jsx("span",{children:"Contact"})]}),e.jsxs(j.Button,{type:"option",onClick:c,children:[e.jsx(k,{}),e.jsx("span",{children:"Mark as Interview"})]}),e.jsxs(j.Button,{type:"option",onClick:s,children:[e.jsx(M,{}),e.jsx("span",{children:"Mark as On Hold"})]}),e.jsxs(j.Button,{type:"option",onClick:t,children:[e.jsx(k,{}),e.jsx("span",{children:"Mark as Shortlisted"})]}),e.jsxs(j.Button,{type:"option",onClick:h,children:[e.jsx(M,{}),e.jsx("span",{children:"Mark as Rejected"})]}),e.jsx(g.Open,{opens:"addNote",children:e.jsxs(j.Button,{type:"option",children:[e.jsx(R,{}),e.jsx("span",{children:"Update Note"})]})})]}),e.jsx(g.Window,{name:"read",children:e.jsx(q,{applicant:n})}),e.jsx(g.Window,{name:"addNote",children:e.jsx(z,{applicant:n,onCloseModal:close})})]})})]})}function oe(){const n=v.useContext(b);if(!n)throw new Error("ApplicantContext is not provided");const{filteredApplications:o}=n,{items:l,requestSort:r}=Z(o),c=l.filter(s=>"applicant_id"in s);return e.jsx(j,{children:e.jsxs(y,{tableType:"applicants",children:[e.jsxs(y.Header,{children:[e.jsxs(u,{onClick:()=>r("id"),className:"flex items-center justify-between",children:["Id",e.jsx(N,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(u,{onClick:()=>r("name"),className:"flex items-center justify-between",children:["Name",e.jsx(N,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(u,{onClick:()=>r("email"),className:"flex items-center justify-between",children:["Email",e.jsx(N,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(u,{onClick:()=>r("position_title"),className:"flex items-center justify-between",children:["Position",e.jsx(N,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(u,{onClick:()=>r("created_at"),className:"flex items-center justify-between",children:["Application Date",e.jsx(N,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(u,{onClick:()=>r("status"),className:"flex items-center justify-between",children:["Status",e.jsx(N,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsx("div",{children:" "})]}),e.jsx(y.Body,{data:c,render:s=>e.jsx(X,{applicant:s},s.id)})]})})}export{oe as A,U as R,q as a,z as b,J as u};
