import{r as N,j as e,B as b,T as c,c as u}from"./index-5mKFevem.js";import{I as y}from"./index-kWp0PA9r.js";import{f as p,g as C,h as F,d as E,i as P,j as S}from"./index-v6tEUovr.js";import{F as A}from"./index-zmQBSqSy.js";import{M as h,a as w,c as L}from"./Modal-Nroytch3.js";import{A as $}from"./AvatarUpload-0MQ3Z69i.js";import{T as k}from"./TextArea-vZs89p8v.js";import{H as M}from"./index-xJJ-Fbw6.js";import{u as z}from"./useCompany-ZjlQsx4T.js";import"./iconBase--5NU6JvB.js";import"./index-Tl5cFwPh.js";import"./company-ZnYdRKnL.js";import"./recruiter-XSYqMn4-.js";const O=(s,l)=>{if(s==="name"&&(!l||!/^[a-zA-Z\s]{4,}$/.test(l)))return"Please enter a name with a minimum of 4 characters";if(s==="slug"&&(!l||!/^[a-zA-Z\s]{4,}$/.test(l)))return"Please enter a slug with a minimum of 4 characters";if(s==="description"&&(!l||!/^[\s\S]{10,500}$/.test(l)))return"Please provide a company overview between 10 and 500 characters";if(s==="company_locations"&&(!l||!/^[a-zA-Z\s]{4,}$/.test(l)))return"Please enter a location with a minimum of 4 characters";if(s==="email"&&(!l||!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(l)))return"Please provide a valid email address";if(s==="socials"&&(!l||!/^[a-zA-Z\s]{4,}$/.test(l)))return"Please enter a social media slug with a minimum of 4 characters";if(s==="website"&&(!l||!/^([a-z0-9-]+\.)+[a-z]{2,}(\/[^\s]*)?$/.test(l)))return"Please enter a valid website link.";if(s==="phone"&&(!l||!/^\+?[0-9\s-]{8,}$/.test(l)))return"Please enter a valid phone number."};function B({profile:s,onHandleProfileUpdate:l,onCloseModal:j}){const[a,r]=N.useState({avatar:"",name:"",slug:"",phone:"",email:"",socials:"",website:"",description:""});function t(d){const{name:m,value:o}=d.target,n=O(m,o);if(r({...a,[m]:n}),s){const i={...s,[m]:o};l(i)}}function f(d){d.preventDefault();const m=Object.keys(a).filter(o=>a[o]);m.length>0||(console.log("Success"),console.log(m),j())}return e.jsxs("div",{className:"flex w-full flex-col gap-y-10",children:[e.jsx("div",{className:"pt-4",children:e.jsx("h1",{className:"text-2xl font-medium lg:text-3xl",children:"Company Profile"})}),e.jsxs("form",{onSubmit:f,className:"relative",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{className:"rounded-md bg-primary px-6 py-2 text-white hover:bg-opacity-80",children:"Submit"})}),e.jsxs("div",{className:"mt-5 flex flex-col gap-10 md:w-auto lg:w-fit",children:[e.jsxs("div",{className:"flex flex-col 2xl:grid 2xl:grid-cols-[1fr_4fr] 2xl:grid-rows-1",children:[e.jsx("div",{className:"w-max",children:e.jsx("h2",{className:"font-medium",children:"Company Brand"})}),e.jsxs("div",{className:"mt-4 flex w-full flex-col",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(c,{name:"name",type:"text",value:s==null?void 0:s.name,onChange:t,errors:a,hasError:!!a.name})}),e.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row",children:[e.jsx("p",{className:"rounded-md border-2 border-slate-300 bg-slate-100 px-6 py-2 text-slate-400",children:"jobquery.com/company/"}),e.jsx(c,{name:"slug",type:"text",value:s==null?void 0:s.slug,onChange:t,errors:a,hasError:!!a.slug})]})]})]}),e.jsxs("div",{className:"flex flex-col 2xl:grid 2xl:grid-cols-[1fr_4fr] 2xl:grid-rows-1",children:[e.jsx("div",{className:"w-max",children:e.jsx("h2",{className:"font-medium",children:"Company Logo"})}),e.jsxs("div",{className:"mt-4 flex flex-col gap-5 lg:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:gap-10",children:[e.jsx("img",{src:s==null?void 0:s.avatar,alt:"Company's logo",className:"rounded-full border-2 border-slate-100 p-1 sm:w-[10%]"}),e.jsx($,{resource:s,onResourceUpdate:d=>l(d)})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Note"}),": Max file size is 1MB, Minimum dimension: 136 x 136 And Suitable files are .jpg, .png & svg"]})]})]}),e.jsxs("div",{className:"flex flex-col 2xl:grid 2xl:grid-cols-[1fr_4fr] 2xl:grid-rows-1",children:[e.jsx("div",{className:"w-max",children:e.jsx("h2",{className:"font-medium",children:"Company Overview"})}),e.jsx("div",{className:"mt-4 flex w-full flex-col",children:e.jsx("div",{className:"flex w-full flex-col",children:e.jsx(k,{name:"description",value:s==null?void 0:s.description,onChange:t,errors:a,hasError:!!a.description})})})]}),e.jsxs("div",{className:"flex flex-col 2xl:grid 2xl:grid-cols-[1fr_4fr] 2xl:grid-rows-1",children:[e.jsx("div",{className:"w-max",children:e.jsx("h2",{className:"font-medium",children:"Contact"})}),e.jsxs("div",{className:"mt-4 flex flex-col",children:[e.jsx("div",{className:"mt-2 flex flex-col sm:flex-row",children:e.jsx(c,{name:"email",type:"text",value:s==null?void 0:s.email,onChange:t,errors:a,hasError:!!a.email})}),e.jsxs("div",{className:"mt-2 flex flex-col rounded-md border-2 border-slate-300 sm:flex-row",children:[e.jsx("p",{className:"border-r-2 border-r-slate-300 bg-slate-100 px-6 py-2 text-slate-400",children:"twitter.com/"}),e.jsx(c,{name:"socials",type:"text",value:s==null?void 0:s.socials,onChange:t,errors:a,hasError:!!a.socials})]}),e.jsxs("div",{className:"mt-2 flex flex-col rounded-md border-2 border-slate-300 sm:flex-row",children:[e.jsx("p",{className:"border-r-2 border-r-slate-300 bg-slate-100 px-6 py-2 text-slate-400",children:"facebook.com/"}),e.jsx(c,{name:"socials",type:"text",value:s==null?void 0:s.socials,onChange:t,errors:a,hasError:!!a.socials})]}),e.jsxs("div",{className:"mt-2 flex flex-col rounded-md border-2 border-slate-300 sm:flex-row",children:[e.jsx("p",{className:"border-r-2 border-r-slate-300 bg-slate-100 px-6 py-2 text-slate-400",children:"linkedin.com/company/"}),e.jsx(c,{name:"socials",type:"text",value:s==null?void 0:s.socials,onChange:t,errors:a,hasError:!!a.socials})]}),e.jsxs("div",{className:"mt-2 flex flex-col",children:[e.jsx(u,{htmlFor:"website",children:"Website"}),e.jsxs("div",{className:"mt-4 flex flex-col rounded-md border-2 border-slate-300 sm:flex-row",children:[e.jsx("p",{className:"border-r-2 border-r-slate-300 bg-slate-100 px-6 py-2 text-slate-400",children:"https://"}),e.jsx(c,{name:"website",type:"text",value:s==null?void 0:s.website,onChange:t,errors:a,hasError:!!a.website})]})]}),e.jsxs("div",{className:"mt-2 flex flex-col",children:[e.jsx(u,{htmlFor:"phone",children:"Phone Number"}),e.jsx(c,{name:"phone",type:"text",value:s==null?void 0:s.phone,onChange:t,errors:a,hasError:!!a.phone})]})]})]})]})]})]})}function T({companyLocations:s,onHandleLocationUpdate:l,onCloseModal:j}){const[a,r]=N.useState({id:s.length>0?s[s.length-1].id+1:0,country:"",city:""}),[t,f]=N.useState({country:"",city:""});function d(n){const{name:i,value:x}=n.target,v=!x||!/^[a-zA-Z\s]{4,}$/.test(x)&&"Please enter a location with a minimum of 4 characters";f({...t,[i]:v}),r(g=>({...g,[i]:x}))}function m(n){const i=s.filter(x=>x!==n);l(i)}function o(n){n.preventDefault();const i={...a,id:s.length>0?s[s.length-1].id+1:0},x=[...s,i];Object.keys(t).filter(g=>t[g]).length>0||(l(x),r({id:i.id+1,country:"",city:""}),j())}return e.jsxs("div",{className:"flex flex-col gap-y-10",children:[e.jsxs("div",{className:"flex w-fit flex-col gap-y-5",children:[e.jsx("h3",{className:"font-medium",children:"Existing location"}),e.jsx("div",{className:"flex flex-wrap gap-5",children:s.map(n=>e.jsxs("div",{className:"flex justify-between rounded-md bg-slate-100 px-3 py-1",children:[e.jsxs("p",{className:"w-max text-sm font-medium",children:[n.city,", ",n.country]}),e.jsx("button",{onClick:()=>m(n),children:e.jsx(M,{className:"ml-2 rounded-full p-0.5 transition-all hover:bg-slate-200"})})]},n.id))})]}),e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(u,{htmlFor:"city",children:"City"}),e.jsx(c,{name:"city",type:"text",value:a.city,onChange:d,errors:t,hasError:!!t.city})]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(u,{htmlFor:"country",children:"Country"}),e.jsx(c,{name:"country",type:"text",value:a.country,onChange:d,errors:t,hasError:!!t.country})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{className:"w-fit rounded-md bg-primary px-6 py-2 text-white transition-all hover:bg-primary/75",children:"Add Location"})})]})]})}function K(){const{profile:s,companyLocations:l,handleProfileUpdate:j,handleLocationUpdate:a}=z();return e.jsx("div",{className:"flex w-full flex-col gap-y-10 px-6 py-4 md:px-10 lg:px-12 xl:px-14",children:e.jsxs("div",{className:"flex w-full flex-col 2xl:w-[80%] 2xl:min-w-[75%]",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"mt-10 flex flex-col",children:[e.jsx("img",{src:s==null?void 0:s.avatar,alt:`${s==null?void 0:s.name}'s logo`,className:"h-[5rem] w-[5rem] rounded-full"}),e.jsx("h1",{className:"mt-5 text-2xl font-medium",children:s==null?void 0:s.name})]}),e.jsx("div",{className:"flex items-end gap-10",children:e.jsxs(h,{children:[e.jsx(h.Open,{opens:"edit",children:e.jsxs(w.Button,{type:"edit",children:[e.jsx(L,{}),e.jsx("span",{children:"Edit"})]})}),e.jsx(h.Window,{name:"edit",children:e.jsx(B,{profile:s,onHandleProfileUpdate:j,onCloseModal:close})})]})})]}),e.jsxs("div",{className:"mt-10 grid grid-cols-1 grid-rows-4 gap-4 sm:grid-cols-2 sm:grid-rows-2 md:gap-10 xl:flex",children:[e.jsxs("div",{className:"flex w-full items-center text-blue-500",children:[e.jsx(y,{}),e.jsxs("p",{className:"ml-2",children:["jobquery.com/company/",s==null?void 0:s.slug]})]}),e.jsxs("div",{className:"flex w-full items-center text-blue-500",children:[e.jsx(y,{}),e.jsx("p",{className:"ml-2",children:s==null?void 0:s.website})]}),e.jsxs("div",{className:"flex w-full items-center",children:[e.jsx(p,{}),e.jsx("p",{className:"ml-2",children:s==null?void 0:s.phone})]}),e.jsxs("div",{className:"flex w-full items-center",children:[e.jsx(C,{}),e.jsx("p",{className:"ml-2",children:s==null?void 0:s.email})]})]}),e.jsxs("div",{className:"mt-10 flex flex-col",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Company Overview"}),e.jsx("p",{className:"mt-2.5 text-sm",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-36",children:[e.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex w-full items-baseline justify-between",children:[e.jsx("h2",{className:"mb-2.5 text-lg font-medium",children:"Company Locations"}),e.jsx("div",{className:"pl-4",children:e.jsxs(h,{children:[e.jsx(h.Open,{opens:"edit",children:e.jsx(w.Button,{type:"icon",children:e.jsx(F,{className:"text-xs text-green-600"})})}),e.jsx(h.Window,{name:"edit",children:e.jsx(T,{companyLocations:l,onHandleLocationUpdate:a,onCloseModal:close})})]})})]}),l.length>0?l.map(r=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"text-primary"}),e.jsxs("p",{className:"ml-1 text-sm",children:[r==null?void 0:r.city,", ",r==null?void 0:r.country]})]},r==null?void 0:r.id)):e.jsx(e.Fragment,{children:e.jsx("h1",{children:"No location data available"})})]}),e.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[e.jsx("h2",{className:"mb-2.5 text-lg font-medium",children:"Company Social Media"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"text-blue-500"}),e.jsxs("p",{className:"ml-2 text-sm",children:["@",s==null?void 0:s.socials]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"text-blue-500"}),e.jsxs("p",{className:"ml-2 text-sm",children:["@",s==null?void 0:s.socials]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"text-blue-500"}),e.jsxs("p",{className:"ml-2 text-sm",children:["@",s==null?void 0:s.socials]})]})]})]})]})})}export{K as default};
