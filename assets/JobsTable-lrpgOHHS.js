import{r as v,j as e,c as t,T as w,B as m,b as E,d as k}from"./index-5mKFevem.js";import{P as p}from"./index-cMask8jq.js";import{T as j,u as F}from"./useSortableData-7xsXvl2k.js";import{M as u,a as o,L as C,b as M}from"./Modal-Nroytch3.js";import{k as S,l as J,m as T}from"./index-Tl5cFwPh.js";import{C as B}from"./ConfirmDelete-mvv7IibB.js";import{S as x,O as h}from"./Select-1pwi2v98.js";import{T as N}from"./TextArea-vZs89p8v.js";import{JobContext as y}from"./JobContext-eh_7vNKf.js";import{S as q}from"./StatusChip-XClJhCia.js";import{c as L}from"./company-ZnYdRKnL.js";function D({job:i,onHandleUpdate:n,onCloseModal:d}){const r=v.useContext(y);if(!r)throw new Error("JobContext is not provided");const{handleChangeUpdate:c,errors:l}=r,a=s=>{c(s,i.id)},f=s=>{s.preventDefault(),n(i.id,i),d()};return e.jsxs("form",{onSubmit:f,children:[e.jsx("h2",{className:"border-b-2 border-slate-300 py-4 text-2xl font-medium",children:"Basic Information"}),e.jsxs("div",{className:"my-8 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"position_title",children:"Job Title"}),e.jsx(w,{name:"position_title",type:"text",value:i.position_title,onChange:a,errors:l,hasError:!!l.position_title})]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"location",children:"Location"}),e.jsx(x,{name:"location",value:i.location,onChange:a,errors:l,hasError:!!l.location,children:["Berlin, DE","London, UK","Paris, FR","Vienna, AU"].map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"my-8 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"work_preference",children:"Work Preference"}),e.jsx(x,{name:"work_preference",value:i.work_preference,onChange:a,errors:l,hasError:!!l.work_preference,children:["Onsite","Remote","Hybrid"].map(s=>e.jsx(h,{value:s,children:s},s))})]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"employment_type",children:"Employment Type"}),e.jsx(x,{name:"employment_type",value:i.employment_type,onChange:a,errors:l,hasError:!!l.employment_type,children:["Full time","Part time"].map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"my-8 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"seniority",children:"Job Seniority"}),e.jsx(x,{name:"seniority",value:i.seniority,onChange:a,errors:l,hasError:!!l.seniority,children:["Entry","Mid level","Senior"].map(s=>e.jsx(h,{value:s,children:s},s))})]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"experience",children:"Minimum Qualification Level Required (YoE)"}),e.jsx(x,{name:"experience",value:i.experience,onChange:a,errors:l,hasError:!!l.experience,children:["1 Year of Experience","2 Years of Experience","3 Years of Experience","4 Years of Experience","+5 Years of Experience"].map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"my-8 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"education",children:"Education Level"}),e.jsx(x,{name:"education",value:i.education,onChange:a,errors:l,hasError:!!l.education,children:["High school diploma","Bachelor's","Master's","Ph.D"].map(s=>e.jsx(h,{value:s,children:s},s))})]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"requires_visa_sponsorship",children:"Can you provide Visa Sponsorship for this role?"}),e.jsx(x,{name:"requires_visa_sponsorship",value:i.requires_visa_sponsorship,onChange:a,errors:l,hasError:!!l.requires_visa_sponsorship,children:["No","Yes"].map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"my-8 grid grid-cols-1 grid-rows-[1fr_auto_1fr_1fr] gap-4 lg:grid-cols-[1fr_auto_1fr_1fr] lg:grid-rows-1",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"salary_from",children:"Salary From"}),e.jsx(w,{name:"salary_from",type:"number",value:i.salary_from,onChange:a,errors:l,hasError:!!l.salary_from})]}),e.jsx("span",{className:"mb-3 flex items-end font-medium",children:"to"}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"salary_to",children:"Salary To"}),e.jsx(w,{name:"salary_to",type:"number",value:i.salary_to,onChange:a,errors:l,hasError:!!l.salary_to})]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"salary_frequency",children:"Salary Frequency"}),e.jsx(x,{name:"salary_frequency",value:i.salary_frequency,onChange:a,errors:l,hasError:!!l.salary_frequency,children:["Month","Year"].map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsx("div",{className:"my-8",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"position_overview",children:"Job Brief"}),e.jsx(N,{name:"position_overview",value:i.position_overview,onChange:a,errors:l,hasError:!!l.position_overview})]})}),e.jsxs("div",{className:"my-8",children:[e.jsxs("p",{className:"text-xs font-medium text-slate-500",children:[e.jsx("span",{className:"font-semibold",children:"Important:"})," Add a semicolon (;) at the end of each responsibility."]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"responsibilities",children:"Responsibilities"}),e.jsx(N,{name:"responsibilities",value:i.responsibilities,onChange:a,errors:l,hasError:!!l.responsibilities})]})]}),e.jsxs("div",{className:"my-8",children:[e.jsxs("p",{className:"text-xs font-medium text-slate-500",children:[e.jsx("span",{className:"font-semibold",children:"Important:"})," Add a semicolon (;) at the end of each qualification row."]}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{htmlFor:"qualifications",children:"Responsibilities"}),e.jsx(N,{name:"qualifications",value:i.qualifications,onChange:a,errors:l,hasError:!!l.qualifications})]})]}),e.jsx("div",{className:"my-8 flex gap-4",children:e.jsx(m,{hasError:Object.keys(l).filter(s=>l[s]),className:"rounded-md border border-primary bg-primary px-8 py-2 text-xs text-white md:text-base",children:"Submit"})})]})}function O(i){const n=v.useContext(y);if(!n)throw new Error("JobContext is not provided");const{updateStatus:d,handleDelete:r}=n,c=E(),{user:l}=k(),a=L.find(g=>g.id===i.company_id);function f(){d(i.id,"open")}function s(){d(i.id,"filled")}function _(){d(i.id,"expired")}function b(g){r(g)}return{user:l,jobAdCompany:a,navigate:c,deleteJob:b,handleMarkOpen:f,handleMarkFilled:s,handleMarkExpired:_}}function R({job:i}){const{user:n,navigate:d,deleteJob:r,handleMarkOpen:c,handleMarkFilled:l,handleMarkExpired:a}=O(i),f=v.useContext(y);if(!f)throw new Error("JobContext is not provided");const{handleUpdate:s}=f;return e.jsxs(j.Row,{children:[e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:i.id})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:i.position_title})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:i.employment_type})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:i.location})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:i.created_at})}),e.jsx("div",{children:e.jsx("p",{className:"w-[150px] overflow-hidden text-ellipsis whitespace-nowrap text-sm font-semibold text-slate-600",children:i.applicants})}),e.jsx("div",{children:e.jsx(q,{children:i.status})}),e.jsx(u,{children:e.jsxs(o.Menu,{children:[e.jsx(o.Toggle,{id:i.id.toString()}),e.jsxs(o.List,{id:i.id.toString(),children:[e.jsxs(o.Button,{type:"option",onClick:()=>d(`${(n==null?void 0:n.role)==="recruiter"?"/dashboard":"/user"}/jobs/${i.id}`),children:[e.jsx(S,{}),e.jsx("span",{children:"View Job"})]}),(n==null?void 0:n.role)==="recruiter"&&e.jsxs(e.Fragment,{children:[e.jsxs(o.Button,{type:"option",onClick:c,children:[e.jsx(C,{}),e.jsx("span",{children:"Mark as Open"})]}),e.jsxs(o.Button,{type:"option",onClick:l,children:[e.jsx(M,{}),e.jsx("span",{children:"Mark as Filled"})]}),e.jsxs(o.Button,{type:"option",onClick:a,children:[e.jsx(C,{}),e.jsx("span",{children:"Mark as Expired"})]}),e.jsx(u.Open,{opens:"edit",children:e.jsxs(o.Button,{type:"option",children:[e.jsx(J,{}),e.jsx("span",{children:"Edit"})]})}),e.jsx(u.Open,{opens:"delete",children:e.jsxs(o.Button,{type:"option",children:[e.jsx(T,{}),e.jsx("span",{children:"Delete"})]})})]})]}),e.jsx(u.Window,{name:"edit",children:e.jsx(D,{job:i,onHandleUpdate:s,onCloseModal:close})}),e.jsx(u.Window,{name:"delete",children:e.jsx(B,{resourceName:i.position_title,onConfirm:()=>{r(i.id)},onCloseModal:close})})]})})]})}function X(){const i=v.useContext(y);if(!i)throw new Error("JobContext is not provided");const{jobList:n}=i,{items:d,requestSort:r}=F(n);return e.jsx(o,{children:e.jsxs(j,{tableType:"jobs",children:[e.jsxs(j.Header,{children:[e.jsxs(m,{onClick:()=>r("id"),className:"flex items-center justify-between",children:["Id",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(m,{onClick:()=>r("position_title"),className:"flex items-center justify-between",children:["Title",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(m,{onClick:()=>r("employment_type"),className:"flex items-center justify-between",children:["Type",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(m,{onClick:()=>r("location"),className:"flex items-center justify-between",children:["Location",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(m,{onClick:()=>r("created_at"),className:"flex items-center justify-between",children:["Date Posted",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(m,{onClick:()=>r("applicants"),className:"flex items-center justify-between",children:["Applicants",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsxs(m,{onClick:()=>r("status"),className:"flex items-center justify-between",children:["Status",e.jsx(p,{className:"h-auto w-[1.25rem] rounded-full p-0.5 text-slate-600 transition-all hover:bg-slate-100"})]}),e.jsx("div",{children:" "})]}),e.jsx(j.Body,{data:d,render:c=>e.jsx(R,{job:c},c.id)})]})})}export{X as J,D as a,O as u};
