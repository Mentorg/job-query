import{r as s,d as v,j}from"./index-gK5jVzhw.js";import{a as _}from"./applicant-RmsKs6c1.js";import{j as C}from"./job-YlKGiUrw.js";import{a as d}from"./application-vugV2d0r.js";const E=s.createContext(null),M=["interview","on-hold","shortlisted","rejected"];function w({children:l}){const{user:a}=v(),c=s.useMemo(()=>C.filter(i=>i.recruiter_id===(a==null?void 0:a.id)),[a==null?void 0:a.id]),u=s.useMemo(()=>{const i=[];return c.forEach(e=>{d.filter(t=>t.advertisement_id===e.id).forEach(t=>{const r=_.find(L=>L.id===t.applicant_id);r&&i.push(r)})}),i},[c]),[o,m]=s.useState(u),[n,f]=s.useState(d),A=s.useMemo(()=>n.filter(i=>o.some(e=>e.user_id===i.applicant_id)),[o,n]),h=s.useCallback((i,e)=>{const p=n.map(t=>t.id===i?{...t,status:e}:t);f(p)},[n]),x=s.useCallback((i,e)=>{const p=o.map(t=>t.id===i?{...t,note:e}:t);m(p)},[o]);return j.jsx(E.Provider,{value:{options:M,applicantList:o,applicationList:n,filteredApplications:A,filteredAdvertisements:c,updateStatus:h,handleUpdateNote:x},children:l})}export{E as ApplicantContext,w as default};
